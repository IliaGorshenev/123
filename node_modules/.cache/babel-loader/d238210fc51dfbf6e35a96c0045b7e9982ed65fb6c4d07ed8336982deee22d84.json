{"ast":null,"code":"import React,{useEffect,useState}from'react';import cn from'classnames';import styles from'./Select.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Select=_ref=>{let{mainTitle,fieldTitle,items,isOpen,opener,setCity}=_ref;const[used,setUsed]=useState([]);let styleList=styles.list;if(!isOpen){styleList=styles.closed;}const filter=(array,element)=>{const sorted=array.filter(item=>item!==element);return sorted;};const itemHandler=itemText=>{if(!used.length>0){setCity&&setCity([itemText]);return setUsed([itemText]);}if(used.includes(itemText)){setCity&&setCity(filter(used,itemText));return setUsed(filter(used,itemText));}setCity&&setCity([...used,itemText]);return setUsed([...used,itemText]);};const findText=function(e){const li=e.currentTarget;const span=li.querySelector('span');itemHandler(span.innerText);};const arrowDir=isOpen?styles.arrowUp:styles.arrow;return/*#__PURE__*/_jsxs(\"div\",{className:styles.wrapper,children:[/*#__PURE__*/_jsx(\"h4\",{className:styles.title,children:mainTitle}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>{opener();},className:styles.field,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.fieldTitle,children:fieldTitle}),/*#__PURE__*/_jsx(\"div\",{className:arrowDir,children:/*#__PURE__*/_jsx(\"svg\",{width:\"14\",height:\"8\",viewBox:\"0 0 14 8\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13 1L7 7L1 1\",stroke:\"#BFBFBF\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"})})}),/*#__PURE__*/_jsx(\"div\",{className:styleList,children:items&&items.map(item=>/*#__PURE__*/_jsx(\"div\",{onClick:e=>{itemHandler(e.target.innerText);},className:styles.listItem,children:item}))})]}),used.length>0&&/*#__PURE__*/_jsx(\"div\",{className:styles.chosenList,children:used.map(item=>/*#__PURE__*/_jsx(\"div\",{onClick:e=>{findText(e);},className:styles.chosenItem,children:/*#__PURE__*/_jsx(\"span\",{className:styles.chosenItemText,children:item})}))})]});};export default Select;","map":{"version":3,"names":["React","useEffect","useState","cn","styles","jsx","_jsx","jsxs","_jsxs","Select","_ref","mainTitle","fieldTitle","items","isOpen","opener","setCity","used","setUsed","styleList","list","closed","filter","array","element","sorted","item","itemHandler","itemText","length","includes","findText","e","li","currentTarget","span","querySelector","innerText","arrowDir","arrowUp","arrow","className","wrapper","children","title","onClick","field","width","height","viewBox","fill","xmlns","d","stroke","map","target","listItem","chosenList","chosenItem","chosenItemText"],"sources":["/Users/a1111/Desktop/репы/startrix/startrix/src/components/select/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport cn from 'classnames'\nimport styles from './Select.module.scss'\n\n\nconst Select = (\n  {\n    mainTitle,\n    fieldTitle,\n    items,\n    isOpen,\n    opener,\n    setCity\n  }\n) => {\n  const [used, setUsed] = useState([])\n  let styleList = styles.list;\n  if (!isOpen) {\n    styleList = styles.closed\n  }\n  const filter = (array, element) => {\n    const sorted = array.filter(item => item !== element)\n    return sorted\n  }\n\n  const itemHandler = (itemText) => {\n    if (!used.length > 0) {\n      setCity && setCity([itemText])\n      return setUsed([itemText])\n    }\n\n    if (used.includes(itemText)) {\n      setCity && setCity(filter(used, itemText))\n      return setUsed(filter(used, itemText))\n    }\n    setCity && setCity([...used, itemText])\n    return setUsed([...used, itemText])\n  }\n\n  const findText = function (e) {\n    const li = e.currentTarget\n    const span = li.querySelector('span')\n    itemHandler(span.innerText)\n  }\n\n  const arrowDir = isOpen ? styles.arrowUp : styles.arrow;\n  return (\n    <div className={styles.wrapper}>\n      <h4 className={styles.title}>{mainTitle}</h4>\n      <div onClick={() => {opener()}} className={styles.field}>\n        <span className={styles.fieldTitle}>{fieldTitle}</span>\n        <div className={arrowDir}>\n          <svg width=\"14\" height=\"8\" viewBox=\"0 0 14 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M13 1L7 7L1 1\" stroke=\"#BFBFBF\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n        </div>\n        <div className={styleList}>\n        {\n          items && items.map((item) => (\n            <div onClick={(e) => {itemHandler(e.target.innerText)}} className={styles.listItem}>\n              {item}\n            </div>\n          ))\n        }\n      </div>\n      </div>\n      {used.length > 0 && \n        <div className={styles.chosenList}>\n          {used.map((item) => (\n            <div onClick={(e) => {findText(e)}} className={styles.chosenItem}>\n              <span className={styles.chosenItemText}>{item}</span>\n            </div>\n          ))}\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Select\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}